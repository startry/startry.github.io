<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Pods依赖库快速开发入门 | Startry Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="CocoaPods是所有iOS开发熟知的一个第三方类库依赖管理工具。只要稍微有些经验的iOS开发者都会使用三方依赖库管理工具来管理工程依赖, CocoaPods是目前最火热权威的管理工具。
CocoaPods的基本使用现在网站上遍历都是的教程, 官方文档的简明教程也足够清晰明朗。本篇文章主要告诉大家如何去开发一个CocoaPods依赖库, 重点内容分三块:

如何创建一个Pod Repo
如何将库">
<meta property="og:type" content="article">
<meta property="og:title" content="Pods依赖库快速开发入门">
<meta property="og:url" content="http://startry.com/2015/12/22/pod-repo-dev-quick-start/index.html">
<meta property="og:site_name" content="Startry Blog">
<meta property="og:description" content="CocoaPods是所有iOS开发熟知的一个第三方类库依赖管理工具。只要稍微有些经验的iOS开发者都会使用三方依赖库管理工具来管理工程依赖, CocoaPods是目前最火热权威的管理工具。
CocoaPods的基本使用现在网站上遍历都是的教程, 官方文档的简明教程也足够清晰明朗。本篇文章主要告诉大家如何去开发一个CocoaPods依赖库, 重点内容分三块:

如何创建一个Pod Repo
如何将库">
<meta property="og:image" content="http://blog.startry.com/img/blog_create_pod_simple_demo.png">
<meta property="og:image" content="http://blog.startry.com/img/blog_podspec_demo.png">
<meta property="og:image" content="http://blog.startry.com/img/blog_menu_level_sub_jsonmodel.png">
<meta property="og:image" content="http://blog.startry.com/img/blog_menu_level_flat_jsonmodel.png">
<meta property="og:updated_time" content="2015-12-22T11:15:10.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Pods依赖库快速开发入门">
<meta name="twitter:description" content="CocoaPods是所有iOS开发熟知的一个第三方类库依赖管理工具。只要稍微有些经验的iOS开发者都会使用三方依赖库管理工具来管理工程依赖, CocoaPods是目前最火热权威的管理工具。
CocoaPods的基本使用现在网站上遍历都是的教程, 官方文档的简明教程也足够清晰明朗。本篇文章主要告诉大家如何去开发一个CocoaPods依赖库, 重点内容分三块:

如何创建一个Pod Repo
如何将库">
  
    <link rel="alternative" href="/atom.xml" title="Startry Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" href="/css/style.css" type="text/css">
  <script src="http://libs.baidu.com/jquery/1.9.0/jquery.js"></script>
</head>

<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img lazy-src="https://avatars2.githubusercontent.com/u/3454027?v=3&amp;s=460" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">Startry</a></h1>
		</hgroup>

		
		<p class="header-subtitle">随便乱写, 目前专攻iOS研发~</p>
		

		
			<div class="switch-btn">
				<div class="icon">
					<div class="icon-ctn">
						<div class="icon-wrap icon-house" data-idx="0">
							<div class="birdhouse"></div>
							<div class="birdhouse_holes"></div>
						</div>
						<div class="icon-wrap icon-ribbon hide" data-idx="1">
							<div class="ribbon"></div>
						</div>
						
						<div class="icon-wrap icon-link hide" data-idx="2">
							<div class="loopback_l"></div>
							<div class="loopback_r"></div>
						</div>
						
						
						<div class="icon-wrap icon-me hide" data-idx="3">
							<div class="user"></div>
							<div class="shoulder"></div>
						</div>
						
					</div>
					
				</div>
				<div class="tips-box hide">
					<div class="tips-arrow"></div>
					<ul class="tips-inner">
						<li>菜单</li>
						<li>标签</li>
						
						<li>友情链接</li>
						
						
						<li>关于我</li>
						
					</ul>
				</div>
			</div>
		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">主页</a></li>
				        
							<li><a href="/archives">所有文章</a></li>
				        
						</ul>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
								<a class="github" target="_blank" href="http://github.com/startry" title="github">github</a>
					        
								<a class="weibo" target="_blank" href="http://weibo.com/chenxingstartry" title="weibo">weibo</a>
					        
								<a class="zhihu" target="_blank" href="http://www.zhihu.com/people/startry" title="zhihu">zhihu</a>
					        
								<a class="mail" target="_blank" href="mailto:chenxingfl#gmail.com" title="mail">mail</a>
					        
								<a class="twitter" target="_blank" href="https://twitter.com/xStartry" title="twitter">twitter</a>
					        
								<a class="stackoverflow" target="_blank" href="http://stackoverflow.com/users/5238614/startry" title="stackoverflow">stackoverflow</a>
					        
						</div>
					</nav>
				</section>
				
				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						<a href="/tags/CocoaPods/" style="font-size: 16.67px;">CocoaPods</a> <a href="/tags/Jenkins/" style="font-size: 10px;">Jenkins</a> <a href="/tags/Ruby/" style="font-size: 13.33px;">Ruby</a> <a href="/tags/framework/" style="font-size: 13.33px;">framework</a> <a href="/tags/iOS/" style="font-size: 13.33px;">iOS</a> <a href="/tags/ios/" style="font-size: 20px;">ios</a> <a href="/tags/umbrella-header/" style="font-size: 10px;">umbrella header</a> <a href="/tags/xcconfig/" style="font-size: 13.33px;">xcconfig</a> <a href="/tags/随笔/" style="font-size: 10px;">随笔</a>
					</div>
				</section>
				
				
				
				<section class="switch-part switch-part3">
					<div id="js-friends">
					
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://github.com/startry">空荡荡的github</a>
			        
			        </div>
				</section>
				

				
				
				<section class="switch-part switch-part4">
				
					<div id="js-aboutme">混迹于各类互联网公司, 学习成长中, 边走边学~ 参与过某二手车公司创业, 也曾在某大型公司混的一花名&quot;玄书&quot;。现在重新学习成长中...</div>
				</section>
				
			</div>
		</div>
	</header>				
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide">Startry</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				<img lazy-src="https://avatars2.githubusercontent.com/u/3454027?v=3&amp;s=460" class="js-avatar">
			</div>
			<hgroup>
			  <h1 class="header-author">Startry</h1>
			</hgroup>
			
			<p class="header-subtitle">随便乱写, 目前专攻iOS研发~</p>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
					<li><a href="/archives">所有文章</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="http://github.com/startry" title="github">github</a>
			        
						<a class="weibo" target="_blank" href="http://weibo.com/chenxingstartry" title="weibo">weibo</a>
			        
						<a class="zhihu" target="_blank" href="http://www.zhihu.com/people/startry" title="zhihu">zhihu</a>
			        
						<a class="mail" target="_blank" href="mailto:chenxingfl#gmail.com" title="mail">mail</a>
			        
						<a class="twitter" target="_blank" href="https://twitter.com/xStartry" title="twitter">twitter</a>
			        
						<a class="stackoverflow" target="_blank" href="http://stackoverflow.com/users/5238614/startry" title="stackoverflow">stackoverflow</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>
      <div class="body-wrap"><article id="post-pod-repo-dev-quick-start" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/12/22/pod-repo-dev-quick-start/" class="article-date">
  	<time datetime="2015-12-22T11:15:10.000Z" itemprop="datePublished">2015-12-22</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Pods依赖库快速开发入门
    </h1>
  

      </header>
      
      <div class="article-info article-info-post">
        
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/CocoaPods/">CocoaPods</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/framework/">framework</a></li></ul>
	</div>

        

        <div class="clearfix"></div>
      </div>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        
        
          <p>CocoaPods是所有iOS开发熟知的一个第三方类库依赖管理工具。只要稍微有些经验的iOS开发者都会使用三方依赖库管理工具来管理工程依赖, CocoaPods是目前最火热权威的管理工具。</p>
<p>CocoaPods的基本使用现在网站上遍历都是的教程, 官方文档的简明教程也足够清晰明朗。本篇文章主要告诉大家<strong>如何去开发一个CocoaPods依赖库</strong>, 重点内容分三块:</p>
<ol>
<li>如何创建一个Pod Repo</li>
<li>如何将库提交到中央Spec库或私有Spec库中供大家使用</li>
<li>如何在开发中添加resource、framework以及其它依赖</li>
</ol>
<h3 id="创建一个Pod_Repo">创建一个Pod Repo</h3><h4 id="通过模板创建">通过模板创建</h4><p>关于如何创建一个Pod Repo, <a href="http://weibo.com/wtlucky" target="_blank" rel="external">@wtlucky_星魂丨飘渺灬</a>的一篇博文<a href="http://blog.wtlucky.com/blog/2015/02/26/create-private-podspec/" target="_blank" rel="external">使用Cocoapods创建私有podspec</a>里有介绍如何使用<code>pod lib create (libName)</code>去创建一个Pod Repo。简单示例如下:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pod lib create STDemoKit</span><br></pre></td></tr></table></figure>
<p>执行如上命令, 根据lib需要选择对应的语言(Objc/Swift)、是否需要生产示例项目以及是否需要基础测试target等选项, 就会生产一个默认的名叫<code>STDemoKit</code>的Pod库。</p>
<p>就这么一行命令, 自己动手敲一把, 绝对印象会加深很多的~</p>
<hr>
<h4 id="手动创建">手动创建</h4><p>CocoaPods会利用自带的模板去创建, 非常简单方便使用, 本文就不再赘述, 只是描述下如何手动去创建一个Pod Repo。</p>
<p>手动创建CocoaPods库的关键在于描述文件<strong>podspec</strong>, 手动创建私有库的第一步就是复制或新建一个podspec。(podspec格式描述固定, 直接从<a href="https://guides.cocoapods.org/making/specs-and-specs-repo.html" target="_blank" rel="external">官方网站</a>复制来的快)</p>
<p>手动创建私有库的关键两行代码在于:</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="constant">Pod::Spec</span>.new <span class="keyword">do</span> |spec|</span><br><span class="line">  spec.name          = <span class="string">'STDemoKit'</span></span><br><span class="line">  spec.source_files  = <span class="string">'MyLib/Classes/**/*.&#123;h,m,c&#125;'</span></span><br><span class="line"><span class="comment">## 补充必要的一些描述, 用于通过lint校验</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<p>在podspec所在文件夹下创建一个名为<strong>MyLib</strong>的文件夹, 并在<strong>MyLib</strong>文件夹下创建一个名为<strong>Classes*</strong>的文件夹, 放置自己实现的示例代码在该文件夹下。</p>
<p><img src="http://blog.startry.com/img/blog_create_pod_simple_demo.png" alt="自己动手创建podspec示例"></p>
<p>通过上述的步骤, 已经创建了自己的pod库, 然后需要的是本地测试, 测试自己的创建的本地库需要再创建一个Example工程, 同时在Podfile中指定本地库所在位置, 示例如下:</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pod <span class="string">"STDemoKit"</span>, :path =&gt; <span class="string">"~/目标库地址"</span></span><br></pre></td></tr></table></figure>
<p>在Podfile中指定本地的库地址后, 执行下<code>pod install</code>即可测试自己创建的库了。</p>
<h3 id="如何提交库到Spec">如何提交库到Spec</h3><p>在告诉读者怎么提交库到Spec的时候, 需要问大家一个问题: <strong>什么是Spec?</strong></p>
<p>我引用和翻译一下<a href="https://guides.cocoapods.org/making/specs-and-specs-repo.html" target="_blank" rel="external">官方文档的描述</a>: </p>
<p>PodSpec(Spec)是一个用来描述一个固定版本的Pod库的文件, 根据版本推移, 一个库会有多个PodSpec(Spec)文件去描述它。该描文件描述了该版本库的引用地址、需要引用的文件、应用编译配置项以及类似库名字、库版本和描述相关的其它元数据。</p>
<blockquote>
<p>A Podspec, or Spec, describes a version of a Pod library. One Pod, over the course of time, will have many Specs. It includes details about where the source should be fetched from, what files to use, the build settings to apply, and other general metadata such as its name, version, and description.</p>
</blockquote>
<p>利用CocoaPods模板创建的库的podspec描述文件如下:</p>
<p><img src="http://blog.startry.com/img/blog_podspec_demo.png" alt="PodSepc文件示例"></p>
<p>回归主题: <strong>怎么提交Spec</strong></p>
<p><a href="http://blog.wtlucky.com/blog/2015/02/26/create-private-podspec/" target="_blank" rel="external">使用Cocoapods创建私有podspec</a>中有一个章节<strong>《向Spec Repo提交podspec》</strong>, 该章节有<font color="red">详细</font>的说明介绍如果向Pod库提交podspec, 本文只是列出两个命令, 方便大家快速查阅, 分别是<strong>提交podspec</strong>和<strong>验证podspec有效性</strong>的命令。</p>
<p>一般情况下, 都需要先执行下有效性验证才会去向Spec库提交自己的podspec, 这个是开发者的基本素质吧~</p>
<p><strong>验证podspec有效性命令</strong>:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 需要在podspec文件所在目录下执行</span></span><br><span class="line">pod lib lint</span><br></pre></td></tr></table></figure>
<p><strong>提交podspec命令</strong>:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pod repo push 索引库名 STDebugConsole.podspec</span><br></pre></td></tr></table></figure>
<p><strong>补充</strong>:<br>关于索引库, 有区分官方库和非官方库。一般大公司都会维护一个<strong>官方索引库</strong>和<strong>自有索引库</strong>。<strong>官方索引库</strong>一般是<a href="https://github.com/CocoaPods/Specs" target="_blank" rel="external">git官方库</a>的一个镜像, 为了加快公司内对库索引更新的速度。<strong>自由索引库</strong>一般维护了公司业务产品自有依赖的基础组件和业务组件。</p>
<h3 id="Repo添加文件依赖">Repo添加文件依赖</h3><p>在实际工程开发过程中, 我发现很多童鞋都不了解怎么去添加资源文件到工程中, 其实我自己一开始也不太了解哈, 后面在工程应用中逐渐熟悉起来的。我结合自己的使用经验以及参考<a href="https://guides.cocoapods.org/making/specs-and-specs-repo.html" target="_blank" rel="external">CocoaPods官方描述文档</a>, 在这里简单描述一下。</p>
<p>我先举几个常用的实际场景:</p>
<ol>
<li><p>添加framework</p>
<p> 假设我们已经通过前面说的模板去创建了一个私有库<strong>STShareKit</strong>, 然后我需要往<strong>STShareKit</strong>库添加分享库<strong>ShareSDK.framework</strong>, 我是不是直接和开发普通工程一样直接往文件目录一拖就好了呢? <font color="orange">实践证明这种方式是不可取的</font>。</p>
<p> 因为STShareKit本身是一个库, 如果直接网里面拖framework, 只会把对应的target引用写进项目的pbproj下, 只是一次性的被根项目引用, 并且不能被库本身引用, 因此通过纯粹的拖动是不可取的。(其实本人觉得如果Xcode做的智能点, 应该是可以解决这个问题的, 吐槽下)</p>
<p> 参考前面<strong>PodSepc文件示例</strong>的podspec文件描述, 核心解决关键在于下述代码:</p>
 <figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">s.vendored_frameworks = [</span><br><span class="line">  		<span class="string">'Pod/Frameworks/*.framework'</span></span><br><span class="line"> 	]</span><br><span class="line">s.frameworks = <span class="string">'UIKit'</span>, <span class="string">'Foundation'</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<pre><code>通过在podspec中添加上述两个文件描述并执行一次``pod install``, 一个可以解决第三方动态库, 一个可以添加本身库依赖的系统库。

大家会不会好奇通过podspec描述的文件是怎么添加上去的, 是怎么被主工程和库给引用的。对Xcode环境配置熟悉的童鞋肯定能够猜到, 环境配置不是在pbproj描述下就是通过xcconfig进行注入的。如果大家对xcconfig想要进一步了解, 请大家移步我之前写的文章[《iOS开发必备 - 环境变量配置(Debug &amp; Release)》](http://blog.startry.com/2015/07/24/iOS_EnvWithXcconfig/)。

那么我们打开STShareKit.xcconfig文件进行一探究竟。(需要在引用工程执行完``pod install``命令才会生成)

<span class="comment"><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">	FRAMEWORK_SEARCH_PATHS = $(inherited) <span class="string">"<span class="variable">$&#123;PODS_ROOT&#125;</span>/../Pod/Frameworks"</span></span><br><span class="line">	GCC_PREPROCESSOR_DEFINITIONS = $(inherited) COCOAPODS=<span class="number">1</span></span><br><span class="line">	HEADER_SEARCH_PATHS = <span class="string">"<span class="variable">$&#123;PODS_ROOT&#125;</span>/Headers/Private"</span> <span class="comment">## 此处省略</span></span><br><span class="line">	``` </span><br><span class="line">	</span><br><span class="line">	第一行**FRAMEWORK_SEARCH_PATHS**基本已经解除了大家的困惑了吧~</span><br><span class="line">	</span><br><span class="line"><span class="number">2</span>. 添加资源文件</span><br><span class="line">	</span><br><span class="line">	添加资源文件的方式和添加第三方framework的方式相同, 核心解决关键在下述代码:</span><br><span class="line">	</span><br><span class="line">	``` Ruby</span><br><span class="line">	s.resource_bundles = &#123;</span><br><span class="line">   		<span class="string">'STShareKit'</span> =&gt; [<span class="string">'Pod/Assets/*.png'</span>]</span><br><span class="line">  	&#125;</span><br></pre></td></tr></table></figure></span>


这里有个特殊的地方, 通过上述写法书写的方式在<span class="comment"><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#10;&#28155;&#21152;&#36164;&#28304;&#25991;&#20214;&#36824;&#26377;&#21478;&#22806;&#19968;&#31181;&#26041;&#24335;(**&#19981;&#25512;&#33616;**):&#10;&#10;``` Ruby&#10;s.resources = &#39;Pod/Assets/**/*&#39;</span><br></pre></td></tr></table></figure></span>


通过这种方式写法会被所有的资源文件不添加bundle直接copy进入主工程, 很容易发生重名冲突等问题, 不建议用这个写法~

**补充:** 大家如果把上述描述文件修改和下面一样, 大家猜猜会发生什么事情呢? (库名为STShareKit)

<span class="comment"><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">s.resource_bundles = &#123;</span><br><span class="line">  		<span class="string">'STShareUI'</span> =&gt; [<span class="string">'Pod/Assets/*.png'</span>]</span><br><span class="line"> 	&#125;</span><br></pre></td></tr></table></figure></span>


接下来抛给大家一个问题, 资源文件是怎么添加到主工程里的, 是通过xcconfig吗?
我一开始以为是通过xcconfig进行配置, 后面并没有找到对应的配置项目, 在工程下面的Build Phases, CocoaPods会默认添加一个执行脚本:

![Build Phases拷贝脚本](http://blog.startry.com/img/blog_repo_copy_build_phases.png)

打开Target Support Files目录下Pods文件夹下的Pods-resources.sh脚本文件, 全局搜索STShareKit.bundle, 可以发现在脚本里有如下代码:

<span class="comment"><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">install_resource <span class="string">"$&#123;BUILT_PRODUCTS_DIR&#125;/STShareKit.bundle"</span></span><br></pre></td></tr></table></figure></span>


看到这行代码基本已经解释了整个bundle是怎么进去到主工程里的了, 具体的细节请大家自行研究**install_resource**的实现。
</code></pre><ol>
<li><p>源代码分目录(区分group)</p>
<p> 做个私有库开发或者细心的童鞋会发现, 本身在开发库时候明明已经区分了物理目录的, 但是在引用工程里的Pods文件夹却是平铺展开的。对于<strong>处女座</strong>的开发者来说, 都是一怔灾难, 平铺看上怎么都是别扭的。以知名库<a href="https://github.com/icanzilb/JSONModel" target="_blank" rel="external">JSONModel</a>为例子:</p>
<p> 开发库时候的目录分级:</p>
<p> <img src="http://blog.startry.com/img/blog_menu_level_sub_jsonmodel.png" alt="JSONModel源码中目录"></p>
<p> 引用库时候的目录分级:</p>
<p> <img src="http://blog.startry.com/img/blog_menu_level_flat_jsonmodel.png" alt="JSONModel引入后目录"></p>
<p> 是不是看到这个平级目录很抓狂~ <a href="https://guides.cocoapods.org/making/specs-and-specs-repo.html" target="_blank" rel="external">官方Guide</a>来解救有代码整齐强迫症的童鞋们了, 在<strong>A specification with subspecs</strong>章节, 有如下的一个样本podspec</p>
 <figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="constant">Pod::Spec</span>.new <span class="keyword">do</span> |spec|</span><br><span class="line">  spec.name          = <span class="string">'ShareKit'</span></span><br><span class="line">  spec.source_files  = <span class="string">'Classes/ShareKit/&#123;Configuration,Core,Customize UI,UI&#125;/**/*.&#123;h,m,c&#125;'</span></span><br><span class="line">  <span class="comment"># ...</span></span><br><span class="line"></span><br><span class="line">  spec.subspec <span class="string">'Evernote'</span> <span class="keyword">do</span> |evernote|</span><br><span class="line">    evernote.source_files = <span class="string">'Classes/ShareKit/Sharers/Services/Evernote/**/*.&#123;h,m&#125;'</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">  spec.subspec <span class="string">'Facebook'</span> <span class="keyword">do</span> |facebook|</span><br><span class="line">    facebook.source_files   = <span class="string">'Classes/ShareKit/Sharers/Services/Facebook/**/*.&#123;h,m&#125;'</span></span><br><span class="line">    facebook.compiler_flags = <span class="string">'-Wno-incomplete-implementation -Wno-missing-prototypes'</span></span><br><span class="line">    facebook.dependency <span class="string">'Facebook-iOS-SDK'</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  <span class="comment"># ...</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<p> 呵呵, 有强迫症的童鞋是否已经找到了救星了呢? 通过描述subspec来对代码进行不同的层级区分, 这样使得引用的库能够有一定的层次感, 阅读和逻辑结构更加清晰。</p>
<p> 想要了解的更加清晰, 可以参考知名库<a href="https://github.com/AFNetworking/AFNetworking" target="_blank" rel="external">AFNetworking</a>的<a href="https://github.com/AFNetworking/AFNetworking/blob/master/AFNetworking.podspec" target="_blank" rel="external">podspec</a>实现以及引用时候其生产的目录结构!</p>
</li>
</ol>
<h3 id="总结">总结</h3><p>关于如何使用如何使用CocoaPods创建私有库, 个人感觉<a href="http://blog.wtlucky.com/blog/2015/02/26/create-private-podspec/" target="_blank" rel="external">使用Cocoapods创建私有podspec</a>已经写的非常的详细, 本篇文章的意义不大。本篇文章对于开发私有库时候的文件等资源文件添加的细节进行了一些补充, 方便大家更加快速的入门, 对于各路高手来说, 这篇文章只有带人引路的作用。</p>
<p>PS: 水平有限, 有错误的地方请及时指出~</p>
<h4 id="参考文献">参考文献</h4><ol>
<li><a href="http://blog.wtlucky.com/blog/2015/02/26/create-private-podspec/" target="_blank" rel="external">使用Cocoapods创建私有podspec</a></li>
<li><a href="https://guides.cocoapods.org" target="_blank" rel="external">CocoaPods官方指南</a></li>
</ol>

        
      
    </div>
    
  </div>

  
    <!-- 添加打赏逻辑 -->
    <div class='dashang' style='text-align:center; height:50px;'>如果您觉得文章有用, 打赏一个呗~~ ( ⊙ o ⊙ )/</div>
    <div class='dashang_alipay' style='text-align:center;'>
      <form action="https://shenghuo.alipay.com/send/payment/fill.htm"
    method="POST" target="_blank" accept-charset="GBK">
        <input name="optEmail" type="hidden" value="148140274@qq.com" />
        <input name="payAmount" type="hidden" value="1" />
        <input id="title" name="title" type="hidden" value="来自Startry博文的打赏" />
        <input name="memo" type="hidden" value="打赏以资鼓励~~ O(∩_∩)O" />
        <input name="pay" type="image" value="转账"
      src="https://img.alipay.com/sys/personalprod/style/mc/btn-index.png" />
      </form>
    </div>
    <div style='text-align:center; margin-top: 20px;'>
      <img src='/img/wechat_pay.png' style='width: 160px; height:160px; margin-right: 15px;'>
      <img src='/img/alipay_pay.png' style='width: 160px; height:160px; margin-left: 15px;  '>
    </div>
    
<nav id="article-nav">
  
  
    <a href="/2015/12/03/Power-source-of-writing/" id="article-nav-older" class="article-nav-link-wrap">
      <div class="article-nav-title">搭建博客的简单自述</div>
      <strong class="article-nav-caption">></strong>
    </a>
  
</nav>

  
</article>


<div class="share">
	<!-- JiaThis Button BEGIN -->
	<div class="jiathis_style">
		<span class="jiathis_txt">分享到：</span>
		<a class="jiathis_button_tsina"></a>
		<a class="jiathis_button_cqq"></a>
		<a class="jiathis_button_douban"></a>
		<a class="jiathis_button_weixin"></a>
		<a class="jiathis_button_tumblr"></a>
		<a href="http://www.jiathis.com/share" class="jiathis jiathis_txt jtico jtico_jiathis" target="_blank"></a>
	</div>
	<script type="text/javascript" src="http://v3.jiathis.com/code/jia.js?uid=1405949716054953" charset="utf-8"></script>
	<!-- JiaThis Button END -->
</div>



<div class="duoshuo">
	<!-- 多说评论框 start -->
	<div class="ds-thread" data-thread-key="pod-repo-dev-quick-start" data-title="Pods依赖库快速开发入门" data-url="http://startry.com/2015/12/22/pod-repo-dev-quick-start/"></div>
	<!-- 多说评论框 end -->
	<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
	<script type="text/javascript">
	var duoshuoQuery = {short_name:"true"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		 || document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
	<!-- 多说公共JS代码 end -->
</div>




</div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2015 Startry
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>
  <div style="display:none">
    <span id="busuanzi_container_site_pv" style="display:hidden;">本站总访问量<span id="busuanzi_value_site_pv"></span>次
    </span>
    <span id="busuanzi_container_site_uv">本站访客数<span id="busuanzi_value_site_uv"></span>人次
    </span>
  </div>
</footer>
<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>

    </div>
    
  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">


<script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: true,
		animate: true,
		isHome: false,
		isPost: true,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false
	}
</script>
<script src="http://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js" type="text/javascript"></script>
<script src="/js/main.js" type="text/javascript"></script>



<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-67055063-1', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->




<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  </div>
</body>
</html>