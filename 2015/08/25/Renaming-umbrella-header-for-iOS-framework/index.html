<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>iOS - Umbrella Header在framework中的应用 | Startry Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="在相对较大的互联网App研发中, framework静态库被广泛应用, 那么在研发framework的时候也产生好多的问题? 其实一个常见的问题的就是umbreall header文件的使用。
大家是否有遇到过一个常见的错误使用umbrella header的场景: framework的文件明明被主工程引用了, 但是在编译的时候依旧抛出Lexical or Preprocessor Issue -">
<meta property="og:type" content="article">
<meta property="og:title" content="iOS - Umbrella Header在framework中的应用">
<meta property="og:url" content="http://startry.com/2015/08/25/Renaming-umbrella-header-for-iOS-framework/index.html">
<meta property="og:site_name" content="Startry Blog">
<meta property="og:description" content="在相对较大的互联网App研发中, framework静态库被广泛应用, 那么在研发framework的时候也产生好多的问题? 其实一个常见的问题的就是umbreall header文件的使用。
大家是否有遇到过一个常见的错误使用umbrella header的场景: framework的文件明明被主工程引用了, 但是在编译的时候依旧抛出Lexical or Preprocessor Issue -">
<meta property="og:image" content="http://blog.startry.com/img/blog_framework_structure.png">
<meta property="og:updated_time" content="2015-08-25T04:52:19.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="iOS - Umbrella Header在framework中的应用">
<meta name="twitter:description" content="在相对较大的互联网App研发中, framework静态库被广泛应用, 那么在研发framework的时候也产生好多的问题? 其实一个常见的问题的就是umbreall header文件的使用。
大家是否有遇到过一个常见的错误使用umbrella header的场景: framework的文件明明被主工程引用了, 但是在编译的时候依旧抛出Lexical or Preprocessor Issue -">
  
    <link rel="alternative" href="/atom.xml" title="Startry Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" href="/css/style.css" type="text/css">
  <script src="http://libs.baidu.com/jquery/1.9.0/jquery.js"></script>
</head>

<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img lazy-src="https://avatars2.githubusercontent.com/u/3454027?v=3&amp;s=460" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">Startry</a></h1>
		</hgroup>

		
		<p class="header-subtitle">随便乱写, 目前专攻iOS研发~</p>
		

		
			<div class="switch-btn">
				<div class="icon">
					<div class="icon-ctn">
						<div class="icon-wrap icon-house" data-idx="0">
							<div class="birdhouse"></div>
							<div class="birdhouse_holes"></div>
						</div>
						<div class="icon-wrap icon-ribbon hide" data-idx="1">
							<div class="ribbon"></div>
						</div>
						
						<div class="icon-wrap icon-link hide" data-idx="2">
							<div class="loopback_l"></div>
							<div class="loopback_r"></div>
						</div>
						
						
						<div class="icon-wrap icon-me hide" data-idx="3">
							<div class="user"></div>
							<div class="shoulder"></div>
						</div>
						
					</div>
					
				</div>
				<div class="tips-box hide">
					<div class="tips-arrow"></div>
					<ul class="tips-inner">
						<li>菜单</li>
						<li>标签</li>
						
						<li>友情链接</li>
						
						
						<li>关于我</li>
						
					</ul>
				</div>
			</div>
		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">主页</a></li>
				        
							<li><a href="/archives">所有文章</a></li>
				        
						</ul>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
								<a class="github" target="_blank" href="http://github.com/startry" title="github">github</a>
					        
								<a class="weibo" target="_blank" href="http://weibo.com/chenxingstartry" title="weibo">weibo</a>
					        
								<a class="zhihu" target="_blank" href="http://www.zhihu.com/people/startry" title="zhihu">zhihu</a>
					        
								<a class="mail" target="_blank" href="mailto:chenxingfl#gmail.com" title="mail">mail</a>
					        
								<a class="twitter" target="_blank" href="https://twitter.com/xStartry" title="twitter">twitter</a>
					        
								<a class="stackoverflow" target="_blank" href="http://stackoverflow.com/users/5238614/startry" title="stackoverflow">stackoverflow</a>
					        
						</div>
					</nav>
				</section>
				
				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						<a href="/tags/CocoaPods/" style="font-size: 16.67px;">CocoaPods</a> <a href="/tags/Jenkins/" style="font-size: 10px;">Jenkins</a> <a href="/tags/Ruby/" style="font-size: 13.33px;">Ruby</a> <a href="/tags/Screenshots/" style="font-size: 10px;">Screenshots</a> <a href="/tags/framework/" style="font-size: 13.33px;">framework</a> <a href="/tags/iOS/" style="font-size: 20px;">iOS</a> <a href="/tags/ios/" style="font-size: 20px;">ios</a> <a href="/tags/umbrella-header/" style="font-size: 10px;">umbrella header</a> <a href="/tags/xcconfig/" style="font-size: 13.33px;">xcconfig</a> <a href="/tags/随笔/" style="font-size: 13.33px;">随笔</a>
					</div>
				</section>
				
				
				
				<section class="switch-part switch-part3">
					<div id="js-friends">
					
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://github.com/startry">空荡荡的github</a>
			        
			        </div>
				</section>
				

				
				
				<section class="switch-part switch-part4">
				
					<div id="js-aboutme">混迹于各类互联网公司, 学习成长中, 边走边学~ 参与过某二手车公司创业, 也曾在某大型公司混的一花名&quot;玄书&quot;。现在重新学习成长中...</div>
				</section>
				
			</div>
		</div>
	</header>				
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide">Startry</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				<img lazy-src="https://avatars2.githubusercontent.com/u/3454027?v=3&amp;s=460" class="js-avatar">
			</div>
			<hgroup>
			  <h1 class="header-author">Startry</h1>
			</hgroup>
			
			<p class="header-subtitle">随便乱写, 目前专攻iOS研发~</p>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
					<li><a href="/archives">所有文章</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="http://github.com/startry" title="github">github</a>
			        
						<a class="weibo" target="_blank" href="http://weibo.com/chenxingstartry" title="weibo">weibo</a>
			        
						<a class="zhihu" target="_blank" href="http://www.zhihu.com/people/startry" title="zhihu">zhihu</a>
			        
						<a class="mail" target="_blank" href="mailto:chenxingfl#gmail.com" title="mail">mail</a>
			        
						<a class="twitter" target="_blank" href="https://twitter.com/xStartry" title="twitter">twitter</a>
			        
						<a class="stackoverflow" target="_blank" href="http://stackoverflow.com/users/5238614/startry" title="stackoverflow">stackoverflow</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>
      <div class="body-wrap"><article id="post-Renaming-umbrella-header-for-iOS-framework" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/08/25/Renaming-umbrella-header-for-iOS-framework/" class="article-date">
  	<time datetime="2015-08-25T04:52:19.000Z" itemprop="datePublished">2015-08-25</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      iOS - Umbrella Header在framework中的应用
    </h1>
  

      </header>
      
      <div class="article-info article-info-post">
        
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/framework/">framework</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ios/">ios</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/umbrella-header/">umbrella header</a></li></ul>
	</div>

        

        <div class="clearfix"></div>
      </div>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        
        
          <p>在相对较大的互联网App研发中, framework静态库被广泛应用, 那么在研发framework的时候也产生好多的问题? 其实一个常见的问题的就是umbreall header文件的使用。</p>
<p>大家是否有遇到过一个常见的错误使用umbrella header的场景: framework的文件明明被主工程引用了, 但是在编译的时候依旧抛出<font color="orange">Lexical or Preprocessor Issue - Umbrella header for module ‘xxx’ does not include header ‘xxx.h’</font>的警告。</p>
<p><strong>那么问题来了, 什么是umbrella header? 什么又是umbrella framework呢?</strong></p>
<p>参考官方文档<a href="https://developer.apple.com/library/ios/documentation/MacOSX/Conceptual/BPFrameworks/Frameworks.html#//apple_ref/doc/uid/10000183-SW1" target="_blank" rel="external">《Introduction to Framework Programming Guide》</a>学习说明, 可以了解到Framework区分Standard Framework和Umbrella Framework。但是, 我找了半天也没有找到官方文档有对Umberlla framework给出明确的定义(大家找到了记得告诉我)。在官方文档<a href="https://developer.apple.com/library/ios/documentation/MacOSX/Conceptual/BPFrameworks/Concepts/FrameworkAnatomy.html#//apple_ref/doc/uid/20002253-97623-BAJJHAJC" target="_blank" rel="external">《Anatomy of Framework Bundles》</a>章节中, 我找到三段比较合理说明Umbrella Framework的话:</p>
<blockquote>
<p>Umbrella frameworks add minor refinements to the standard framework structure, such as the ability to encompass other frameworks</p>
</blockquote>
<hr>
<blockquote>
<p>The structure of an umbrella framework is similar to that of a standard framework, and applications do not distinguish between umbrella frameworks and standard frameworks when linking to them. However, two factors distinguish umbrella frameworks from other frameworks. The first is the manner in which they include header files. The second is the fact that they encapsulate subframeworks.</p>
</blockquote>
<hr>
<blockquote>
<p>Physically, umbrella frameworks have a similar structure to standard frameworks. One significant difference is the addition of a Frameworks directory to contain the subframeworks that make up the umbrella framework.</p>
</blockquote>
<p>字面上的意思应该是在标准的Framework做了一些改良的工作, 使其可以嵌套包含Framework。<br>在物理结构上, Umbrella Framework只在包含头文件的方式以及是否包含子Framework和普通的Framework存在区别。</p>
<p>那么引用头文件的地方又有什么区别呢? 还是参考官方文档引用:</p>
<blockquote>
<p>For most frameworks, you can include header files other than the master header file. You can include any specific header file you want as long as it is available in the framework’s Headers directory. However, if you are including an umbrella framework, you must include the master header file. Umbrella frameworks do not allow you to include the headers of their constituent subframeworks directly. See <a href="https://developer.apple.com/library/ios/documentation/MacOSX/Conceptual/BPFrameworks/Tasks/IncludingFrameworks.html#//apple_ref/doc/uid/20002257-BAJJBBHJ" target="_blank" rel="external">Restrictions on Subframework Linking</a> for more information.</p>
</blockquote>
<p>简单翻译一下: <strong>普通的framework可以通过引用对应的heaedr文件而不是Master Header File去引用需要使用的类, 只需要对应的header头文件在Headers文件夹下暴露, 并没有强制要求引用Master Header File。Umbrella Framework要求必须要引用Master Header File, 并且头文件中不能直接引用子Framework的东西。</strong></p>
<p>上述描述已经说了Umbrella Framework一定要引用Master Header File, 而Umbrella Framework的Master Header File就是Umbrella header文件。</p>
<p>大家是否存在一个疑问, 官方说明中只有强制规定一定要引用Umbrella Header文件, 但是却没有说能不能单独引用Umbrella Framework的其他头文件呢? 我们可以自己试验一下:</p>
<ol>
<li>在Umbrella Framework新建一个<code>testObject</code>类, 分别产生了<code>testObject.h</code>和<code>testObject.m</code>文件。</li>
<li>打开Framework配置文件, 在<code>Build Phases</code>的<code>Headers</code>里的<code>Public</code>目录下, 将<code>testObject.h</code>文件添加进去。</li>
<li>Build Framework看是否报错。</li>
<li>在主工程中调用初始化<code>testObject</code>对象, 看编译是否报错。</li>
</ol>
<p>执行结果:</p>
<ul>
<li><strong>步骤3</strong>: 没有编译报错, 但是报出了<font color="orange">Lexical or Preprocessor Issue - Umbrella header for module ‘STDemoUI’ does not include header ‘testObject.h’</font>的警告。</li>
<li><strong>步骤4</strong>: 执行正常。</li>
</ul>
<p>那么我们来总结一下:</p>
<ol>
<li>Standard Framework不能包含Sub Framework; Umbrella Framework可以包含子Framework;</li>
<li>Standard Framework可以直接引用需要使用的头, 也可以通过引用Master Header file来引用需要使用的类; Umbrella Framework需要通过引用Master Header File(Umbrella Header)来引用需要使用的类;</li>
</ol>
<h3 id="规范的写法">规范的写法</h3><p>Umbrella Framework默认会创建一个同名.h文件最为Umbrella Header文件。规范的写法当然是遵从默认的模式, 将所有需要暴露的头文件都写在Umbrella Header文件中。</p>
<p>例如: <code>STDemoUI.framework</code>工程包含了<strong>STClassOne</strong>、<strong>STClassTwo</strong>和<strong>STClassThree</strong>三个类。<code>STDemoUI</code>会生成一个默认的伞头文件(直译Umbrella Header, 不专业)<code>STDemoUI.h</code>。假设该framework的三个类均需要在外部调用使用, 则<code>STDemoUI.h</code>需要将三个类的引用均写入伞头文件中。</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">// STDemoUI.h&#10;// ...&#10;&#10;#import &#60;STDemoUI/STClassOne.h&#62;&#10;#import &#60;STDemoUI/STClassTwo.h&#62;&#10;#import &#60;STDemoUI/STClassThree.h&#62;</span><br></pre></td></tr></table></figure>
<p>在需要调用的主工程中, 仅仅只要将Umbrella Header引用即可调用所有在Umbrella Header中包含的类了。</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">// &#22312;&#20027;&#24037;&#31243;&#38656;&#35201;&#24212;&#29992;&#30340;&#31867;&#20013;&#21253;&#21547;Umbrella Header&#10;#import &#60;STDemoUI/STDemoUI.h&#62;</span><br></pre></td></tr></table></figure>
<h3 id="如何重命名umbrella_header">如何重命名umbrella header</h3><p>如果大家都遵从默认的Umbrella Framework的写法, 在同名头文件中写需要暴露的引用头文件, 那么就不需要考虑怎么重命名Umbrella header了。</p>
<p>很多时候, 理想和现实是有差距的, 程序员写代码多数是在二次接手进行开发的。假设公司的前辈已经将Framework的同名文件用作了一个逻辑类, 给同名文件创建了.m文件, 并已经书写了逻辑并应用了各个工程里面去了。那么显然迁移头文件功能代码是不可能的, 因为很多依赖该Framework的业务部门都需要针对库进行代码优化。</p>
<p>在这种不能将同名文件作为Umbrella header的情况下, 我们又不想通过Public强制暴露头文件的情况下(<strong>不写在Umbrella Header中会有警告</strong>)。我们就需要对Umbrella Header进行指定了。</p>
<h4 id="指定Umbrella_Header入口在哪里呢?">指定Umbrella Header入口在哪里呢?</h4><p>万事开头难, 我们想要指定Umbrella Header, 但是在哪里指定呢? 通过文章搜索, 都没有找到一个比较合理的方案, 那就只能自己摸索了。</p>
<ol>
<li>在工程全局搜索<code>umbrella</code>关键字 - <font color="red">Failed</font></li>
<li>在Build Settings里搜索<code>umbrella</code>关键字 - <font color="red">Failed</font></li>
<li>在打包好的<code>STDemoUI.framework</code>中搜索<code>umbrella</code>关键字 - <font color="green">Bingo</font></li>
</ol>
<p>既然搜索到了关键字就好办了, 双击点开STDemo.framework, 我们可以看到如下图所示五个文件(夹)。</p>
<p><img src="http://blog.startry.com/img/blog_framework_structure.png" alt="Framework内部结构"></p>
<p>初略看名称可以推测出每个文件以及文件夹所承担的作用:</p>
<ul>
<li>_CodeSignature: 保存签名相关文件</li>
<li>Headers: framework暴露的所有头文件</li>
<li>Info.plist: 描述了该framework所包含的项目配置信息</li>
<li>STDemo: 编译后的核心库文件</li>
<li>Modules: 模块相关文件夹, 目测只包含了<code>module.modulemap</code>文件</li>
</ul>
<p>我们在<code>module.modulemap</code>文件中找到了<code>umbrella</code>关键字。文件内容如下:</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">framework module STDemoUI &#123;</span><br><span class="line">  umbrella header "STDemoUI.h"</span><br><span class="line"></span><br><span class="line">  export *</span><br><span class="line">  module * &#123; export * &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>原来Framework的umbrella header是在这个位置被指定的, 但是这个已经是编译好的工程, 我们总不能每次编译好了再进到包里面修改下。既然我们已经找到umbrella header是在module中去指定, 那么我们就用<code>module</code>作为关键字再去<code>Build Settings</code>里重新搜索下呗~ </p>
<p>这回我们在<code>Kernel Module</code>和<code>Packaging</code>中均找到了<code>Module</code>关键字, 在<code>Packaging</code>标签中, 有一项<code>Module Map File</code>属性, 看名字应该是用来指定modulemap文件的, 这不解决了么?</p>
<h4 id="指定Modulemap文件">指定Modulemap文件</h4><p>找到了解决方案, 那么接下来就要动手去解决问题了</p>
<ol>
<li>创建一个新的.h文件; ex: STHeader.h<ul>
<li>将所有需要暴露的头文件均写入STHeader.h</li>
</ul>
</li>
<li>创建一个新的modulemap文件; ex: stdemoalt.modulemap</li>
<li><p>在新的modulemap中指定<code>umbrella header</code></p>
 <figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">framework module STDemoUI &#123;</span><br><span class="line">    umbrella header "STHeader.h"</span><br><span class="line">    </span><br><span class="line">    export *</span><br><span class="line">    module * &#123; export * &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<ol>
<li>在framework的<code>Build Settings</code>中的<code>Module Map File</code>指定新建的modulemap文件</li>
</ol>
<p>好了, 准备工作完毕, CMD+B, 编译完了, 打开framework包中的Module文件夹, 看是否包含了新指定的modulemap。</p>
<p>抛出两个疑问: </p>
<ol>
<li>Module是什么?</li>
<li>如果<code>Defines Module</code>指定为<code>NO</code>, 那会发生什么事情呢? </li>
</ol>
<h3 id="题外话">题外话</h3><p>这里我要引用官网Guidelins for Creating Frameworks的一个子标题<strong>Don’t Create Umbrella Frameworks</strong>。原文如下:</p>
<blockquote>
<p>While it is possible to create umbrella frameworks using Xcode, doing so is unnecessary for most developers and is not recommended. Apple uses umbrella frameworks to mask some of the interdependencies between libraries in the operating system. In nearly all cases, you should be able to include your code in a single, standard framework bundle. Alternatively, if your code was sufficiently modular, you could create multiple frameworks, but in that case, the dependencies between modules would be minimal or nonexistent and should not warrant the creation of an umbrella for them</p>
</blockquote>
<p>在大多数情况下, 苹果是不建议手动创建Umbrella Framework。</p>
<h3 id="总结">总结</h3><p>本文简单的梳理了官方文章关于Umbrella Framework和Umbrella Header的介绍说明, 产生警告的原因是没有引用umbrella header或者暴露头没有写在umbrella header中。在umbrella header被已使用的前提下, 本文提供了一种通过重命名Umbrella Header文件的方式来消除警告的解决方案。</p>
<p>虽然引用警告可以被消除, 但是建议大家还是采用规范的做法: 尽量不要在同名头文件中写业务逻辑代码, 用同名文件作为Umbrella库的Master Header File。</p>
<p>水平有限, 有错误请大家及时指出哈~<br>转载请注明出处哦~</p>
<p>参考文献:</p>
<ol>
<li><a href="https://developer.apple.com/library/ios/documentation/MacOSX/Conceptual/BPFrameworks/Frameworks.html" target="_blank" rel="external">https://developer.apple.com/library/ios/documentation/MacOSX/Conceptual/BPFrameworks/Frameworks.html</a></li>
<li><a href="http://stackoverflow.com/questions/32153131/renaming-umbrella-header/32153383#32153383" target="_blank" rel="external">http://stackoverflow.com/questions/32153131/renaming-umbrella-header/32153383#32153383</a></li>
</ol>

        
      
    </div>
    
  </div>

  
    <!-- 添加打赏逻辑 -->
    <div class='dashang' style='text-align:center; height:50px;'>如果您觉得文章有用, 打赏一个呗~~ ( ⊙ o ⊙ )/</div>
    <div class='dashang_alipay' style='text-align:center;'>
      <form action="https://shenghuo.alipay.com/send/payment/fill.htm"
    method="POST" target="_blank" accept-charset="GBK">
        <input name="optEmail" type="hidden" value="148140274@qq.com" />
        <input name="payAmount" type="hidden" value="1" />
        <input id="title" name="title" type="hidden" value="来自Startry博文的打赏" />
        <input name="memo" type="hidden" value="打赏以资鼓励~~ O(∩_∩)O" />
        <input name="pay" type="image" value="转账"
      src="https://img.alipay.com/sys/personalprod/style/mc/btn-index.png" />
      </form>
    </div>
    <div style='text-align:center; margin-top: 20px;'>
      <img src='/img/wechat_pay.png' style='width: 160px; height:160px; margin-right: 15px;'>
      <img src='/img/alipay_pay.png' style='width: 160px; height:160px; margin-left: 15px;  '>
    </div>
    
<nav id="article-nav">
  
    <a href="/2015/09/06/Optional-solutions-for-iOS-multi-target/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption"><</strong>
      <div class="article-nav-title">
        
          iOS - 创建大量相似App的另外一种选择
        
      </div>
    </a>
  
  
    <a href="/2015/07/24/iOS_EnvWithXcconfig/" id="article-nav-older" class="article-nav-link-wrap">
      <div class="article-nav-title">iOS开发必备 - 环境变量配置(Debug &amp; Release)</div>
      <strong class="article-nav-caption">></strong>
    </a>
  
</nav>

  
</article>


<div class="share">
	<!-- JiaThis Button BEGIN -->
	<div class="jiathis_style">
		<span class="jiathis_txt">分享到：</span>
		<a class="jiathis_button_tsina"></a>
		<a class="jiathis_button_cqq"></a>
		<a class="jiathis_button_douban"></a>
		<a class="jiathis_button_weixin"></a>
		<a class="jiathis_button_tumblr"></a>
		<a href="http://www.jiathis.com/share" class="jiathis jiathis_txt jtico jtico_jiathis" target="_blank"></a>
	</div>
	<script type="text/javascript" src="http://v3.jiathis.com/code/jia.js?uid=1405949716054953" charset="utf-8"></script>
	<!-- JiaThis Button END -->
</div>



<div class="duoshuo">
	<!-- 多说评论框 start -->
	<div class="ds-thread" data-thread-key="Renaming-umbrella-header-for-iOS-framework" data-title="iOS - Umbrella Header在framework中的应用" data-url="http://startry.com/2015/08/25/Renaming-umbrella-header-for-iOS-framework/"></div>
	<!-- 多说评论框 end -->
	<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
	<script type="text/javascript">
	var duoshuoQuery = {short_name:"true"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		 || document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
	<!-- 多说公共JS代码 end -->
</div>




</div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2016 Startry
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>
  <div style="display:none">
    <span id="busuanzi_container_site_pv" style="display:hidden;">本站总访问量<span id="busuanzi_value_site_pv"></span>次
    </span>
    <span id="busuanzi_container_site_uv">本站访客数<span id="busuanzi_value_site_uv"></span>人次
    </span>
  </div>
</footer>
<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>

    </div>
    
  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">


<script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: true,
		animate: true,
		isHome: false,
		isPost: true,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false
	}
</script>
<script src="http://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js" type="text/javascript"></script>
<script src="/js/main.js" type="text/javascript"></script>



<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-67055063-1', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->




<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  </div>
</body>
</html>